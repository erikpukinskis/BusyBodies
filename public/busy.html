<html> 
  <head> 
    <link type="text/css" rel="Stylesheet" media="screen" href="/screen.css" /> 
    <script type="text/javascript" src="/cake.js"></script>
   
    <script language="JavaScript" type="text/javascript"> 
      var canvas;
      
      window.onload = function() {
        
        canvas = new Canvas(document.body, 500, 500)
        robot = new CanvasNode({x: -60, y: 40});
        bubble = new CanvasNode({x: 20, y: 0});
        body = new CanvasNode({x: 0, y: 50});
        
        drawRect(body, 10,10,50,30);     
        drawRect(body, 20,45,30,30);
        drawCircle(body, 20,25,4);
        drawCircle(body, 50,25,4);
        
        drawCircle(bubble, 35, 10, 30, 'white')
        drawCircle(bubble, 10, 15, 20, 'white')
        drawCircle(bubble, 60, 15, 20, 'white')
        drawCircle(bubble, 60, 15, 20, 'white')
        drawCircle(bubble, 55, 47, 7, 'white')
        drawCircle(bubble, 50, 59, 3, 'white')

        
        robot.append(body);
        robot.append(bubble);
        canvas.append(robot);
        
        robot.animateTo("x", 50, 200)
        
        group.when('focus', function(){
          // show bubble
        });
      }
      
      function drawCircle(node, x, y, rad, color) {
        if (color == null) { color = 'black'}
        var circle = new Circle  (rad, {
          id: 'myCircle',
          x: x,
          y: y,
          fill: color,
          endAngle: Math.PI*4
        })
        node.append(circle);
      }
      
      function drawRect(node,x,y,width,height, color) {
        if (color == null) { color = '#AAA'}
        var rect = new Rectangle(width, height, { 
          x: x,
          y: y,
          fill: color
        });
        node.append(rect);
      }

    </script> 
  </head> 
  <body> 
    <div style="display: none">
     <p>BusyBodies requires a web browser that supports the
     HTML5 "Canvas" feature, and your web browser does not. </p>
     
     <p>Install the lastest version of <a href="http://www.mozilla.com/en-US/">Firefox</a>, 
       <a href="http://www.google.com/chrome/">Google Chrome</a>, 
       <a href="http://www.apple.com/safari/">Safari</a>, 
       <a href="http://www.apple.com/safari/">Opera</a> and then try again with that browser.
       You can also try
       <a href="http://ie.microsoft.com/testdrive/">Internet Explorer 9</a>, but it's not
       a stable application yet, so install it at your own risk!</p>
   </div> 
 </body> 
</html>